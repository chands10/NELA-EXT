{% extends "base.html" %}
{% block title %}NELA - Home{% endblock %}
{% block content %}

<!-- The Modal -->
<div id="fieldsModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <div class="card mx-auto my-auto" style="width: 25rem;">
        <div class="card-body">
            <h5 class="card-title" align="center">Select Features</h5>
            <form method="POST" action="{{ url_for('range_filter') }}" id="fields_form">
                {{ form.csrf_token }}
                <div id="fields_row" class="pt-2" align="center">
                    {{ form.Fields }}
                </div>
            </form>
            <div class="card-footer text-center" >
                <!-- Button logic is written in static/js/handerFilters.js -->
                <input type="button" class="btn btn-info" value="Select all" id="btn_selectall">
                <!-- <input type="button" class="btn btn-warning" value="Reset" id="btn_reset"> -->
                <input type="submit" class="btn btn-primary" value="Filter" form="fields_form" id="btn_submit1">
            </div>
        </div>
    </div>
  </div>

</div>

<!-- The Modal -->
<div id="source1Modal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <div class="card mx-auto my-auto" style="width: 25rem;">
        <div class="card-body">
            <h5 class="card-title" align="center">Select Primary Sources</h5>
            <form method="POST" action="{{ url_for('source_filter',source='source1') }}" id="source1_form">
                {{ source1_form.csrf_token }}
                <div id="fields_row" class="pt-2" align="center">
                    {{ source1_form.Fields }}
                </div>
            </form>
            <div class="card-footer text-center" >
                <!-- Button logic is written in static/js/handerFilters.js -->
                <input type="button" class="btn btn-info" value="Select all" id="btn_selectall_source1">
                <!-- <input type="submit" class="btn btn-primary" value="Filter" form="source1_form" id="btn_submit_source1"> -->
            </div>
        </div>
    </div>
  </div>

</div>

<!-- The Modal -->
<div id="source2Modal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <div class="card mx-auto my-auto" style="width: 25rem;">
        <div class="card-body">
            <h5 class="card-title" align="center">Select Secondary Sources</h5>
            <form method="POST" action="{{ url_for('source_filter',source='source2') }}" id="source2_form">
                {{ source2_form.csrf_token }}
                <div id="fields_row" class="pt-2" align="center">
                    {{ source2_form.Fields }}
                </div>
            </form>
            <div class="card-footer text-center" >
                <!-- Button logic is written in static/js/handerFilters.js -->
                <input type="button" class="btn btn-info" value="Select all" id="btn_selectall_source2">
                <!-- <input type="submit" class="btn btn-primary" value="Filter" form="source2_form" id="btn_submit_source2"> -->
            </div>
        </div>
    </div>
  </div>

</div>

<input type="button" class="btn btn-info" value="Features" id="fieldsBtn">
<br>
<div class="row">
    <div class="col-md-3">
        <div class="card" style="width: 20rem;">
            <div class="card-body" style="padding-left: 0; padding-right: 0;">
                <h5 class="card-title" align="center">Specify Feature Ranges</h5>
                <form method="POST" action="{{ url_for('data') }}" id="sliders_form">
                    {{ form2.csrf_token }}
                    <div id="sliders_row" class="pt-2" align="center">
                        {{ form2.Sliders }}
                    </div>
                </form>
                <div class="card-footer text-center">
                    <input type="text" id="daterange" name="daterange" form="sliders_form" style="text-align: center;" 
                        value="{{ daterange }}" align="center">
                    <input type="button" class="btn btn-info" value="Primary Sources" id="source1Btn">
                    <input type="button" class="btn btn-info" value="Secondary Sources" id="source2Btn">
                    <!-- <input type="submit" class="btn btn-primary" value="Filter" form="sliders_form" id="btn_submit2"> -->
                    <input type="submit" class="btn btn-primary" value="Filter" onclick="submitForms()">
                    <!-- <input type="button" class="btn btn-warning" value="Reset" id="btn_reset_fields"> -->
                    <input type="button" class="btn btn-warning" value="Reset" onclick="window.location.href = '{{ url_for('index') }}'">
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-9">
        <div class="container rounded pt-2" style="background-color:white;">
            {{ table }}
        </div>
    </div>
</div>

{% endblock %}
